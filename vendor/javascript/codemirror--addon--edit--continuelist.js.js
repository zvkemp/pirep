import e from"../../lib/codemirror.js";(function(n){n(e)})((function(e){var n=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,t=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,r=/[*+-]\s/;e.commands.newlineAndIndentContinueMarkdownList=function(a){if(a.getOption("disableInput"))return e.Pass;var i=a.listSelections(),s=[];for(var l=0;l<i.length;l++){var c=i[l].head;var o=a.getStateAfter(c.line);var d=e.innerMode(a.getMode(),o);if("markdown"!==d.mode.name){a.execCommand("newlineAndIndent");return}o=d.state;var v=false!==o.list;var m=0!==o.quote;var f=a.getLine(c.line),g=n.exec(f);var u=/^\s*$/.test(f.slice(0,c.ch));if(!i[l].empty()||!v&&!m||!g||u){a.execCommand("newlineAndIndent");return}if(t.test(f)){var h=m&&/>\s*$/.test(f);var p=!/>\s*$/.test(f);(h||p)&&a.replaceRange("",{line:c.line,ch:0},{line:c.line,ch:c.ch+1});s[l]="\n"}else{var x=g[1],w=g[5];var I=!(r.test(g[2])||g[2].indexOf(">")>=0);var L=I?parseInt(g[3],10)+1+g[4]:g[2].replace("x"," ");s[l]="\n"+x+L+w;I&&incrementRemainingMarkdownListNumbers(a,c)}}a.replaceSelections(s)};function incrementRemainingMarkdownListNumbers(e,t){var r=t.line,a=0,i=0;var s=n.exec(e.getLine(r)),l=s[1];do{a+=1;var c=r+a;var o=e.getLine(c),d=n.exec(o);if(d){var v=d[1];var m=parseInt(s[3],10)+a-i;var f=parseInt(d[3],10),g=f;if(l!==v||isNaN(f)){if(l.length>v.length)return;if(l.length<v.length&&1===a)return;i+=1}else{m===f&&(g=f+1);m>f&&(g=m+1);e.replaceRange(o.replace(n,v+g+d[4]+d[5]),{line:c,ch:0},{line:c,ch:o.length})}}}while(d)}}));var n={};export{n as default};

