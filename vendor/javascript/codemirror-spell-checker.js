import e from"typo-js";var r={};var o=e;function CodeMirrorSpellChecker(e){e=e||{};if("function"===typeof e.codeMirrorInstance&&"function"===typeof e.codeMirrorInstance.defineMode){String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)});e.codeMirrorInstance.defineMode("spell-checker",(function(r){if(!CodeMirrorSpellChecker.aff_loading){CodeMirrorSpellChecker.aff_loading=true;var l=new XMLHttpRequest;l.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",true);l.onload=function(){if(4===l.readyState&&200===l.status){CodeMirrorSpellChecker.aff_data=l.responseText;CodeMirrorSpellChecker.num_loaded++;2==CodeMirrorSpellChecker.num_loaded&&(CodeMirrorSpellChecker.typo=new o("en_US",CodeMirrorSpellChecker.aff_data,CodeMirrorSpellChecker.dic_data,{platform:"any"}))}};l.send(null)}if(!CodeMirrorSpellChecker.dic_loading){CodeMirrorSpellChecker.dic_loading=true;var d=new XMLHttpRequest;d.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",true);d.onload=function(){if(4===d.readyState&&200===d.status){CodeMirrorSpellChecker.dic_data=d.responseText;CodeMirrorSpellChecker.num_loaded++;2==CodeMirrorSpellChecker.num_loaded&&(CodeMirrorSpellChecker.typo=new o("en_US",CodeMirrorSpellChecker.aff_data,CodeMirrorSpellChecker.dic_data,{platform:"any"}))}};d.send(null)}var t='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ';var n={token:function(e){var r=e.peek();var o="";if(t.includes(r)){e.next();return null}while(null!=(r=e.peek())&&!t.includes(r)){o+=r;e.next()}return CodeMirrorSpellChecker.typo&&!CodeMirrorSpellChecker.typo.check(o)?"spell-error":null}};var i=e.codeMirrorInstance.getMode(r,r.backdrop||"text/plain");return e.codeMirrorInstance.overlayMode(i,n,true)}))}else console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`")}CodeMirrorSpellChecker.num_loaded=0;CodeMirrorSpellChecker.aff_loading=false;CodeMirrorSpellChecker.dic_loading=false;CodeMirrorSpellChecker.aff_data="";CodeMirrorSpellChecker.dic_data="";CodeMirrorSpellChecker.typo;r=CodeMirrorSpellChecker;var l=r;export default l;

